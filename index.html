<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luiz & Lalaine's Love Story</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Pacifico&family=Playfair+Display:wght@400;700&display=swap">
    <style>
        /* Your existing CSS styles */
    </style>
</head>
<body>
    <!-- Password Page -->
    <div class="password-page">
        <div class="password-box">
            <h1>üíñ Unlock Our Story</h1>
            <input type="password" id="passwordInput" placeholder="Our secret code...">
            <button onclick="checkPassword()">Open My Heart</button>
            <p id="errorMessage" style="color: red; display: none;">‚ùå Try again, mahal!</p>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Love Letter -->
        <div class="love-letter">
            <h2>My Dearest Lalaine,</h2>
            <div class="letter-content">
                Even though we just met, it feels like I‚Äôve known you for many years, and I think that‚Äôs why we match so beautifully‚Äîeven from thousands of miles away. Who knows, maybe we met in a past life on a tiny farm :)  Every time you talk about your goals, all I know is that you will accomplish them all and bring your five Mingkoys (who clearly run your world) with you. Your dream of a tiny farm where you can grow all types of plants and vegetables and heal wounded stray animals, or how you light up when planning your sociology projects to help others, reminds me that love isn‚Äôt just a feeling. It‚Äôs the quiet hope of building a life with someone special. And something tells me you are very special.</p>

            <p>I imagine one day in the Farm: a little house painted light blue, like the sky after a monsoon, with the Mingkoys napping in a sunbeam while we argue over whether Swiss goats or Hong Kong street cats have better personalities. But more than the places, I crave the *moments*‚Äîthe someday-morning when I‚Äôll bring you coffee (no bitter melon in sight, promise) and watch you scribble plans for a community garden or laugh at your phone because the Mingkoys knocked over another plant. You‚Äôre the kind of person who turns dreams into action, and if I‚Äôm lucky enough to hopefully one day stand beside you in the future, I‚Äôll spend every day making sure you never doubt how extraordinary you are.</p>

            <p>Until then, I‚Äôll keep saving your voice notes like secrets and wondering how your smile looks in sunlight instead of pixels.
            </div>
            <p class="signature">Forever yours,<br>Luiz</p>
        </div>

        <!-- Goals Section -->
        <div class="goals-section">
            <h2>Our Shared Dreams üå∏</h2>
            <ul class="goals-list" id="goalsList"></ul>
            <button onclick="addNewGoal()">+ Add New Dream</button>
        </div>
    </div>

    <!-- Add Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"></script>

    <script>
        // Your Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCSgtkzPyeeQkGp7oW4irSulHvCyevsrZ0",
            authDomain: "luiz-lalaine-goals.firebaseapp.com",
            projectId: "luiz-lalaine-goals",
            storageBucket: "luiz-lalaine-goals.appspot.com",
            messagingSenderId: "159194588002",
            appId: "1:159194588002:web:c1267f384d669809d5823b",
            measurementId: "G-ZP4ETCNLF5"
        };

        // Initialize Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // Password System
        function checkPassword() {
            const password = document.getElementById('passwordInput').value.toLowerCase().trim();
            const errorElement = document.getElementById('errorMessage');

            if(password === 'bittermelon') {
                document.querySelector('.password-page').style.display = 'none';
                document.querySelector('.main-content').style.display = 'block';
                loadGoals();
            } else {
                errorElement.style.display = 'block';
                errorElement.style.animation = 'shake 0.5s';
                setTimeout(() => errorElement.style.animation = '', 500);
                document.getElementById('passwordInput').value = '';
            }
        }

        // Goal System
        async function loadGoals() {
            const goalsSnapshot = await db.collection('goals').get();
            const goals = goalsSnapshot.docs.map(doc => doc.data().text);
            const list = document.getElementById('goalsList');
            list.innerHTML = goals.map(goal => `
                <li>
                    <input type="checkbox">
                    <label>${goal}</label>
                    <button class="delete-btn" onclick="deleteGoal('${goal}')">Delete</button>
                </li>
            `).join('');
        }

        async function addNewGoal() {
            const goal = prompt("What's our new dream?");
            if(goal) {
                await db.collection('goals').add({ text: goal });
                loadGoals();
            }
        }

        async function deleteGoal(goalText) {
            const goalQuery = await db.collection('goals').where('text', '==', goalText).get();
            goalQuery.forEach(async doc => {
                await db.collection('goals').doc(doc.id).delete();
            });
            loadGoals();
        }

        // Load goals on page load
        window.addEventListener('load', loadGoals);
    </script>
</body>
</html>
